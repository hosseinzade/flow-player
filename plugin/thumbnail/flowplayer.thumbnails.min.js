/*!

   Thumbnail image plugin for Flowplayer HTML5

   Copyright (c) 2015-2017, Flowplayer Drive Oy

   Released under the MIT License:
   http://www.opensource.org/licenses/mit-license.php

   requires:
   - Flowplayer HTML5 version 6.x or greater
   revision: 2af04e4

*/
!function(){"use strict";var o=function(o){o(function(e,n){var t=o.common,i=o.bean,a=o.extend,r=o.support,s=t.find(".fp-timeline",n)[0],d=t.find(".fp-time"+(0===o.version.indexOf("6.")?"line-tooltip":"stamp"),n)[0];!r.touch&&r.inlineVideo&&e.on("ready",function(o,r,l){i.off(n,".thumbnails"),t.css(d,{width:"",height:"","background-image":"","background-repeat":"","background-size":"","background-position":"",border:"","text-shadow":""});var u=a({lazyload:!0,responsive:!0},r.conf.thumbnails,l.thumbnails),c=u.template,f=c.indexOf("{time}")<0;if(c&&(!f||u.rows&&u.columns&&u.width&&u.height)){var h=f?u.height/u.rows:u.height||80,p=t.find(".fp-engine",n)[0],m=(l.height||t.height(p))/(l.width||t.width(p)),g=f?u.width/u.columns:h/m,w=u.interval||1,b=u.time_format||function(o){return o},v="number"==typeof u.startIndex?u.startIndex:1,x=u.lazyload?new Image:null;u.preload&&function(o,e){function n(){if(!(e>o)){var t=new Image;t.src=c.replace("{time}",b(e)),t.onload=function(){e+=1,n()}}}o=Math.floor(o/w+e),n()}(l.duration,v),i.on(n,"mousemove.thumbnails",".fp-timeline",function(o){var r,l=((o.pageX||o.clientX)-t.offset(s).left)/t.width(s),p=Math.round(l*e.video.duration),m=function(){var o=u.responsive&&t.hasClass(n,"is-small")?.7:u.responsive&&t.hasClass(n,"is-tiny")?.6:1,e={width:g*o+"px",height:h*o+"px","background-image":"url('"+r+"')","background-repeat":"no-repeat",border:"1px solid #333","text-shadow":"1px 1px #000"};if(f){var i=Math.floor(p%u.columns)*-g-(g-g*o)/2,s=Math.floor(p/u.columns)*-h-(h-h*o)/2;e["background-position"]=i+"px "+s+"px"}else a(e,{"background-size":"cover","background-position":"center"});t.css(d,e)};p<0||p>Math.round(e.video.duration)||(p=Math.floor(p/w),r=c.replace("{time}",b(p+v)),!1!==u.lazyload?(x.src=r,i.on(x,"load",m)):m())})}})})};"object"==typeof module&&module.exports?module.exports=o:window.flowplayer&&o(window.flowplayer)}();